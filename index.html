<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Diaspora Routes — Living Map</title>

  <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="map"></div>

  <div class="ui">
    <div class="title">
      <div class="kicker">Diaspora Routes</div>
      <div class="headline">The Living Map</div>
      <div class="sub">Tap/click near any route fragment to reveal its “memory echo.”</div>
      <!-- Collect stamp (appears briefly on successful discovery) -->
<div class="stamp hidden" id="stamp" aria-live="polite">
  COLLECTED
</div>

<!-- Unlock code panel (appears after all routes are collected) -->
<div class="unlock hidden" id="unlock">
  <div class="unlock-kicker">Unlock Code</div>
  <div class="unlock-code" id="unlockCode">ROUTES</div>
  <div class="unlock-sub">
    Enter this code in the next section to continue.
  </div>
</div>

    </div>

    <div class="progress" aria-label="Progress">
      <div class="node" id="node-R1" title="Route I"></div>
      <div class="node" id="node-R2" title="Route II"></div>
      <div class="node" id="node-R3" title="Route III"></div>
      <div class="node" id="node-R4" title="Route IV"></div>
    </div>

    <div class="toggles">
      <button class="btn" id="toggle-constraint">Constraint</button>
      <button class="btn" id="toggle-concealment">Concealment</button>
      <button class="btn ghost" id="reset">Reset</button>
    </div>

    <div class="synthesis hidden" id="synthesis">
      <div class="synthesis-title">Synthesis</div>
      <div class="synthesis-text">
        Two routes can share the same purpose even when they cross different geographies.
        Which two feel most similar — and why?
      </div>
    </div>

    <!-- ✅ NEW: Collect stamp -->
    <div class="stamp hidden" id="stamp" aria-live="polite">
      COLLECTED
    </div>

    <!-- ✅ NEW: Unlock code panel -->
    <div class="unlock hidden" id="unlock">
      <div class="unlock-kicker">Unlock Code</div>
      <div class="unlock-code" id="unlockCode">ROUTES</div>
      <div class="unlock-sub">Enter this code in the next section to continue.</div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
